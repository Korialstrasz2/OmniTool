# OmniTool

A small web interface to launch personal scripts and tools.

## Setup

```bash
pip install -r requirements.txt
python app.py
```

Then open `http://localhost:5000` in a browser.

> **Windows permissions error installing numpy?**
>
> If you see an error such as `Could not install packages due to an OSError:
> [WinError 2] The system cannot find the file specified: '...f2py.exe'`, it
> means pip tried to upgrade a system-wide copy of NumPy. The included
> `requirements.txt` now pins NumPy below version 2.0 and OpenCV below 4.11 to
> avoid that upgrade, but you may still need to make sure you're installing
> inside a virtual environment (the provided `start.bat` does this
> automatically).

> **KoboldCpp backend**
>
> The Comfy Prompt Builder now connects to a running KoboldCpp instance by
> default. Start KoboldCpp with its HTTP API enabled (typically on
> `http://127.0.0.1:5001`) before launching OmniTool. You can override the
> default address with the `KOBOLD_HOST` environment variable or by entering
> a URL in the prompt builder UI. The bundled
> `comfy_diffusion_image_prompt.txt` file provides the system instructions
> that are loaded automatically for each request.
>
> **Optional local models**
>
> The Comfy Prompt Builder can still talk to local GGUF models through
> `llama-cpp-python`, but that package requires native build tools on
> Windows. To keep the default setup lightweight, it's no longer installed
> automatically. If you need local model support, install it manually after
> setting up the project:
>
> ```bash
> pip install llama-cpp-python
> ```

On Windows, you can double-click `start.bat` to install dependencies, run the server, and open the app automatically.

## Adding tools

1. Drop your executable scripts into the `scripts/` directory.
2. Add an entry to `tools.json` with the following fields:

```json
{
  "id": "unique-id",
  "name": "Display name",
  "description": "What the tool does",
  "command": "script_or_command_to_run"
}
```

The command is run from the `scripts/` directory, so relative paths work.
Each tool automatically gets its own page with a "Run" button.
